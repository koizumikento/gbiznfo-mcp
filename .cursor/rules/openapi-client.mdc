---
description: gBizINFO OpenAPI スキーマ取得と参照（ジェネレータ不使用）
---
# gBizINFO OpenAPI 取得・スキーマ参照（生成なし）

このルールは gBizINFO 情報提供APIの OpenAPI スキーマの取得方法と、スキーマを参照しつつ手書きクライアントで実装する手順を示します。生成ツールは使用しません。公式 Swagger UI: `https://info.gbiz.go.jp/hojin/swagger-ui/index.html`

## スキーマ取得
- Swagger UI から `openapi.json` を入手（ネットワークタブ/エクスポート）
- 取得した JSON を [`openapi/gbizinfo-openapi.json`](mdc:openapi/gbizinfo-openapi.json) に保存
- 必要に応じて生データは [`openapi/raw/`](mdc:openapi/raw) に保存して履歴管理

## 方針（重要）
- OpenAPI ジェネレータ等のコード生成は使用しません
- スキーマは参照・検証用途のみとし、実行系は手書きの HTTP クライアント・DTO・アダプタで構成します

## 実装ガイド（JavaScript/TypeScript）
- エンドポイント・クエリ定義: [`javascript/src/services/endpoints.ts`](mdc:javascript/src/services/endpoints.ts)
- DTO/型定義: [`javascript/src/services/types.ts`](mdc:javascript/src/services/types.ts)
- 外部レスポンス→ドメイン変換: [`javascript/src/services/adapters/gbizinfoOpenapiAdapter.ts`](mdc:javascript/src/services/adapters/gbizinfoOpenapiAdapter.ts)
- サービス（ユースケース/外部API呼び出し）: [`javascript/src/services/gbizinfoService.ts`](mdc:javascript/src/services/gbizinfoService.ts)
- HTTP 基盤（タイムアウト/リトライ/レート制御/認証ヘッダ付与）: [`javascript/src/services/http.ts`](mdc:javascript/src/services/http.ts)

## 実装ガイド（Python）
- 併せて参照: [`python-typed-implementation.mdc`](mdc:.cursor/rules/python-typed-implementation.mdc)
- Python でもコード生成は使用せず、`requests` + Pydantic モデルで DTO/ドメインを実装します

## バージョン管理
- `openapi/gbizinfo-openapi.json` をコミットし、スキーマ改版を追跡
- スキーマ差分に応じて DTO/型/アダプタを手で更新

## 検証
- 重要エンドポイントはスキーマの例に基づく契約テストを用意
- ヘッダ名は仕様の表記に厳密一致（例: `X-hojinInfo-api-token`）
